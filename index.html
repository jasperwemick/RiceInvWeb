<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, intitial-scale=1.0">
    <title>Rice Invitational</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" type='text/css'>
</head>
<body>
    <!-- Front Page -->
    <section class="header">
        <nav>
            <a href="index.html"><img src="assets/title.png"></a>
            <div class="nav-links" id = "navLinks">         
                <i class="fa fa-times" onclick="hideMobileMenu()"></i>
                <ul>
                    <li><a href="">About</a></li>
                    <li><a href="">Players</a></li>
                    <li><a href="">Schedule</a></li>
                    <li><a href="standings.html">Standings</a></li>
                    <li><a href="">Random</a></li>
                </ul>
            </div>
            <i class="fa fa-bars" onclick="showMobileMenu()"></i>
        </nav>
        
        <div class="text-box">
            <h1>The Rice Invitational</h1>
            <p>Here at the Rice Invitational, players strive for the pinnacle achievement in gaming: The Rice World Championship Cup.<br><br>This
                might not make a whole lot of sense, and that's because it doesn't.
            </p>
            <a href="" class="about-button">Cool Button</a>
        </div>
    </section>
    <!-- Players -->
    <section class="players">
        <div class="visible-player-content" id="temp_id">
            <h1>Players</h1>
            <p>Our players come from a multitude of backgrounds that truly makes each and every one of them a very special boy!</p>

            <div class="row_index">
                <div class="player_index ryan-content">
                    <img src="assets/ryan_player.png">
                    <h3>obbyota</h3>
                </div>
                <div class="player_index luc-content">
                    <img src="assets/luc_player.png">
                    <h3>cola</h3>
                </div>
                <div class="player_index lizarazu-content">
                    <img src="assets/lizarazu_player.png">
                    <h3>sp1cybo1</h3>
                </div>
                <div class="player_index neil-content">
                    <img src="assets/neil_player.png">
                    <h3>NEIL PATEL</h3>
                </div>
            </div>
            <div class="row_index">
                <div class="player_index john-content">
                    <img src="assets/john_player.png">
                    <h3>BestPurpleMaster</h3>
                </div>
                <div class="player_index long-content">
                    <img src="assets/long_player.png">
                    <h3>VietPapi</h3>
                </div>
                <div class="player_index paolo-content">
                    <img src="assets/paolo_player.png">
                    <h3>SioPaoPao</h3>
                </div>
                <div class="player_index woods-content">
                    <img src="assets/woods_player.png">
                    <h3>Striking Panic</h3>
                </div>
            </div>
            <div class="row_index">
                <div class="player_index seaman-content">
                    <img src="assets/noahS_player.png">
                    <h3>Cody Travis</h3>
                </div>
                <div class="player_index lee-content">
                    <img src="assets/lee_player.png">
                    <h3>FewRaccoon69443</h3>
                </div>
                <div class="player_index ron-content">
                    <img src="assets/ron_player.png">
                    <h3>Melodii</h3>
                </div>
                <div class="player_index thai-content">
                    <img src="assets/player_thai.png">
                    <h3>Mcgurdstream</h3>
                </div>
            </div>
            <div class="row_index">
                <div class="player_index dong-content">
                    <img src="assets/dong_player.png">
                    <h3>YouKooKoo</h3>
                </div>
                <div class="player_index keaton-content">
                    <img src="assets/keaton_player.png">
                    <h3>Rattle KILL</h3>
                </div>
                <div class="player_index caleb-content">
                    <img src="assets/caleb_player.png">
                    <h3>DummyTheGay</h3>
                </div>
                <div class="player_index kien-content">
                    <img src="assets/kien_player.png">
                    <h3>Rantstand</h3>
                </div>
            </div>
        </div>
    </section>

    <div class="folder-object hidden-content" id="fold">
        <div class="folder-animation">
            <div class="folder-back">
                <div class="folder-back-bump"></div>
            </div>
            <div class="file">
                <img src="", id="file-img">
                <div class="file-text"></div>
            </div>
            <div class="folder-front">
                <div class="folder-front-divit"></div>
            </div>
        </div>
    </div>

    <div class="content-canvas hidden-content" id="content-canvas"></div>

    <div class="content-wrapper" id="ryan-content">
        <div class="pages">
            <div class="page hidden-content">
                <div class="player-header-wrapper">
                    <h3>Ryan "ryan" Bellinghoven</h3>
                </div>
                <div class="player-body-wrapper">
                    <img src="assets/ryan_document_1.png" width="200" height="200">
                    <p> Ryan's objective in the.
                    </p>
                </div>
            </div>
            <div class="page hidden-content"></div>
            <div class="page hidden-content"></div>
        </div>
        <div class="embedded-assets hidden-content" >
            <img src="assets/ryan_head_bald.png">
        </div>
    </div>
    <div class="content-wrapper hidden-content" id="luc-content">
        <div class="pages">
            <div class="page">
                <div class="player-header-wrapper">
                    <h3>Luc "Cola" Phan</h3>
                </div>
                <div class="player-body-wrapper">
                    <p> Ryan's objective in the Rice Invitational isn't just to prove himself like everyone else, rather he brings alterior motives with himself as well.
                    </p>
                </div>
            </div>
            <div class="page"></div>
            <div class="page"></div>
        </div>
    </div>
    <div class=" content-wrapper hidden-content" id="lizarazu-content">
        <div class="player-header-wrapper">
            <h3>Kevin "Sp1cybo1" Lizarazu-Ampuero</h3>
        </div>
        <div class="player-body-wrapper">
            <p>Ryan soemtmsetjasfjlskdfjalsdfjaslkdfjl safjklsdaj fklsj flksajflasj flsjadlfj sdjfkls dj
                fadskljflsajfklsajflsdjfklsjfklsdajfklsdjfklsjflas
                afjkdsjflksadfjslakfjasdlfjaslkfjsd
                dskalfjslakfjklsdafjlsadf
                jfklsdafjalsjfsd
            </p>
        </div>
    </div>
    <div class=" content-wrapper hidden-content" id="neil-content">
        <div class="player-header-wrapper">
            <h3>Neil "SRUITS" Patel</h3>
        </div>
        <div class="player-body-wrapper">
            <p>Ryan soemtmsetjasfjlskdfjalsdfjaslkdfjl safjklsdaj fklsj flksajflasj flsjadlfj sdjfkls dj
                fadskljflsajfklsajflsdjfklsjfklsdajfklsdjfklsjflas
                afjkdsjflksadfjslakfjasdlfjaslkfjsd
                dskalfjslakfjklsdafjlsadf
                jfklsdafjalsjfsd
            </p>
        </div>
    </div>
    <div class=" content-wrapper hidden-content" id="john-content">
        <div class="player-header-wrapper">
            <h3>John "BestPurpleMaster" Mason</h3>
        </div>
        <div class="player-body-wrapper">
            <p>Ryan soemtmsetjasfjlskdfjalsdfjaslkdfjl safjklsdaj fklsj flksajflasj flsjadlfj sdjfkls dj
                fadskljflsajfklsajflsdjfklsjfklsdajfklsdjfklsjflas
                afjkdsjflksadfjslakfjasdlfjaslkfjsd
                dskalfjslakfjklsdafjlsadf
                jfklsdafjalsjfsd
            </p>
        </div>
    </div>
    <div class=" content-wrapper hidden-content" id="long-content">
        <div class="player-header-wrapper">
            <h3>Long "VietPapi" Phan</h3>
        </div>
        <div class="player-body-wrapper">
            <p>Ryan soemtmsetjasfjlskdfjalsdfjaslkdfjl safjklsdaj fklsj flksajflasj flsjadlfj sdjfkls dj
                fadskljflsajfklsajflsdjfklsjfklsdajfklsdjfklsjflas
                afjkdsjflksadfjslakfjasdlfjaslkfjsd
                dskalfjslakfjklsdafjlsadf
                jfklsdafjalsjfsd
            </p>
        </div>
        <div class="embedded-assets hidden-content" >
            <img src="assets/long_head.png">
        </div>
    </div>
    <div class=" content-wrapper hidden-content" id="keaton-content">
        <div class="player-header-wrapper">
            <h3>Keaton "Rattle" Boodlal</h3>
        </div>
        <div class="player-body-wrapper">
            <p>Ryan soemtmsetjasfjlskdfjalsdfjaslkdfjl safjklsdaj fklsj flksajflasj flsjadlfj sdjfkls dj
                fadskljflsajfklsajflsdjfklsjfklsdajfklsdjfklsjflas
                afjkdsjflksadfjslakfjasdlfjaslkfjsd
                dskalfjslakfjklsdafjlsadf
                jfklsdafjalsjfsd
            </p>
        </div>
        <div class="embedded-assets hidden-content" >
            <img src="assets/keaton_head.png">
        </div>
    </div>




    <!-- Mobile Navigation Bar -->
    <script>
        var navLinks = document.getElementById("navLinks");

        function showMobileMenu(){
            navLinks.style.right = "0px";
        }
        function hideMobileMenu(){
            navLinks.style.right = "-200px";
        }
    </script>

    <!-- Player Content Load/Unload -->>
    <script>        
        var playerContent = null;
        var htmlPages = null;
        var pageList = [];
        var ONE_SEC_TIMEOUT = 1000;
        var HALF_SEC_TIMEOUT = 500;
        var QUARTER_SEC_TIMEOUT = 250;

        var folder = document.getElementById("fold");
        var file = folder.firstElementChild.firstElementChild.nextElementSibling;
        let section = document.getElementById("temp_id");

        document.addEventListener('click', (event) => {
            if (event.target.classList.contains("player_index")) { // Detection for a click within the area of a player's profile picture
                playerContent = document.getElementById(event.target.classList.item(1));
                document.getElementById("file-img").src=playerContent.lastElementChild.firstElementChild.src;

                folder.classList.remove("hidden-content");
                folder.classList.add("fade-in-bottom-animation");
                setTimeout(function() {
                        folder.classList.remove("fade-in-bottom-animation");
                    }, ONE_SEC_TIMEOUT);
                section.classList.add("blur-bg");
            }
            else if (!folder.classList.contains("hidden-content")) { // The player specific UI is currently revealed

                const withinBounds = event.composedPath().includes(folder);
                if (!withinBounds) { // In this case, the user has clicked outside of the folder, causing it to disappear
                    folder.classList.add("fade-out-bottom-animation");
                    setTimeout(function() { // Fade out player profile UI and unblur the background
                        folder.classList.remove("fade-out-bottom-animation");
                        folder.classList.add("hidden-content");
                        section.classList.remove("blur-bg");
                    }, ONE_SEC_TIMEOUT - 50);

                    playerContent = null;
                }
                else { // In this case, the user has clicked on the folder, revealing a set of pages/cards --> idk where exactly this is going yet
                    folder.classList.add("fade-out-animation");
                    htmlPages = playerContent.firstElementChild.children;
                    for (let i = 0; i < htmlPages.length; i++) {
                        pageList.push({
                            left: 50 + 2 * i, 
                            top: 50 + 2 * i, 
                            zIndex: 1 + htmlPages.length - i
                        });
                    }
                    setTimeout(folderToDocs, HALF_SEC_TIMEOUT - 25);
                    setTimeout(function() {
                        htmlPages.style.pointerEvents = "all";
                    }, 3 * ONE_SEC_TIMEOUT);
                }
            }
            else if (htmlPages != null) { // In this case, the folder has been selected and thus the documents/cards are now visible
                var page_found = false;
                for (let i = 0; i < htmlPages.length; i++) {
                    if (event.composedPath().includes(htmlPages.item(i))) {
                        page_found = true;

                        htmlPages.item(i).classList.add("back-of-stack-animation");
                        setTimeout(shiftDocs, QUARTER_SEC_TIMEOUT, i);
                        setTimeout(function() {
                            htmlPages.item(i).classList.remove("back-of-stack-animation");
                        }, HALF_SEC_TIMEOUT - 10);
                        break;
                    }
                }
                if (!page_found) { // The user has clicked outside of the area of the pages/cards, resulting in them being removed from the screen
                    for (let i = 0; i < htmlPages.length; i++) {

                        htmlPages.item(i).classList.add("pop-down-animation");
                        setTimeout(function() {
                            htmlPages.item(i).classList.remove("pop-down-animation");
                            htmlPages.item(i).classList.add("hidden-content");
                        }, ONE_SEC_TIMEOUT - 25);
                    }
                    setTimeout(function() {
                        section.classList.remove("blur-bg");
                    }, ONE_SEC_TIMEOUT);
                    
                    pageList = [];
                    playerContent = null;
                    htmlPages.style.pointerEvents = "none";
                    htmlPages = null;
                }
            }
        });

        function folderToDocs() { // Handles the animation transistions for going from folder -> pages/cards

            folder.classList.remove("fade-out-animation");
            folder.classList.add("hidden-content");

            for (let i = 0; i < htmlPages.length; i++) {
                setTimeout(function() {
                    htmlPages.item(i).classList.add("slide-papers-right-animation");
                    htmlPages.item(i).classList.remove("hidden-content");
                    htmlPages.item(i).style.zIndex = pageList[i].zIndex;
                    htmlPages.item(i).style.left = pageList[i].left + "%";
                    htmlPages.item(i).style.top = pageList[i].top + "%";

                    setTimeout(function() {
                        htmlPages.item(i).classList.remove("slide-papers-right-animation");
                    }, ONE_SEC_TIMEOUT - 25);
                }, 300 * i);
            }
        }

        // this is broken loloolol
        function shiftDocs(frontIndex) {
            for (let j = 0; j < htmlPages.length; j++) {
                if (frontIndex != j) {
                    pageList[j].left -= 2;
                    pageList[j].top -= 2;
                    pageList[j].zIndex += 1;
                }
                else {
                    pageList[j].left += 2 * (pageList.length - 1);
                    pageList[j].top += 2 * (pageList.length - 1);
                    pageList[j].zIndex -= pageList.length - 1;
                }
                htmlPages.item(j).style.left = pageList[j].left + "%";
                htmlPages.item(j).style.top = pageList[j].top + "%";
                htmlPages.item(j).style.zIndex = pageList[j].zIndex;
            }
        }

    </script>

</body>
</html>